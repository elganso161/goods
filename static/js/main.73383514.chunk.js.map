{"version":3,"sources":["store/goodsSlice.js","store/cartSlice.js","components/Cart.js","components/Goods.js","container/GoodsList.js","App.js","reportWebVitals.js","store/index.js","index.js"],"names":["goodsSlice","createSlice","name","initialState","goods","goodsArr","reducers","actions","selectGoods","state","cartSlice","value","increment","data","articul","payload","undefined","minus","del","selectCart","cart","Cart","useSelector","dispatch","useDispatch","goodsObj","reduce","accum","item","s","a","Object","keys","map","i","length","sum","onClick","e","preventDefault","t","target","classList","contains","getAttribute","index","className","src","alt","data-key","Goods","props","image","title","cost","GoodsList","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","configureStore","reducer","goodsReducer","cartReducer","ReactDOM","render","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.73383514.chunk.js","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport goodsArr from \"../data/goods.json\";\r\n\r\nexport const goodsSlice = createSlice({\r\n  name: \"goods\",\r\n  initialState: {\r\n    goods: goodsArr,\r\n  },\r\n  reducers: {},\r\n});\r\n\r\nexport const {} = goodsSlice.actions;\r\nexport const selectGoods = (state) => state.goods.goods;\r\nexport default goodsSlice.reducer;\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState: {\r\n    value: {},\r\n  },\r\n  reducers: {\r\n    increment: (state, data) => {\r\n      let articul = data.payload;\r\n      if (state.value[articul] === undefined) state.value[articul] = 0;\r\n      state.value[articul]++;\r\n    },\r\n    minus: (state, data) => {\r\n      let articul = data.payload;\r\n      if (state.value[articul] === undefined) state.value[articul] = 0;\r\n      state.value[articul]--;\r\n      if (state.value[articul] === undefined || state.value[articul] <= 0)\r\n        delete state.value[articul];\r\n    },\r\n    del: (state, data) => {\r\n      let articul = data.payload;\r\n      if (state.value[articul] === undefined) state.value[articul] = 0;\r\n      delete state.value[articul];\r\n    },\r\n  },\r\n});\r\n\r\nexport const { increment, minus, del } = cartSlice.actions;\r\nexport const selectCart = (state) => state.cart.value;\r\nexport default cartSlice.reducer;\r\n","import React from \"react\";\r\nimport \"../App.css\";\r\n\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { selectGoods } from \"../store/goodsSlice\";\r\nimport { selectCart } from \"../store/cartSlice\";\r\nimport { minus, del } from \"../store/cartSlice\";\r\n\r\nfunction Cart() {\r\n  const goods = useSelector(selectGoods);\r\n  const cart = useSelector(selectCart);\r\n  const dispatch = useDispatch();\r\n\r\n  const goodsObj = goods.reduce((accum, item) => {\r\n    accum[item[\"articul\"]] = item;\r\n    return accum;\r\n  }, {});\r\n\r\n  let clickHandler = (e) => {\r\n    e.preventDefault();\r\n    let t = e.target;\r\n    if (!t.classList.contains(\"remove-btn\")) return true;\r\n    dispatch(minus(t.getAttribute(\"data-key\")));\r\n    if (!t.classList.contains(\"del-btn\")) return true;\r\n    dispatch(del(t.getAttribute(\"data-key\")));\r\n  };\r\n\r\n  let s = 0;\r\n  function sum() {\r\n    let a = Object.keys(cart).map(\r\n      (item) => cart[item] * goodsObj[item][\"cost\"]\r\n    );\r\n    for (let i = 0; i < a.length; i++) {\r\n      s += a[i];\r\n    }\r\n    return s;\r\n  }\r\n  sum();\r\n\r\n  return (\r\n    <div onClick={clickHandler}>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th></th>\r\n            <th>Название товара</th>\r\n            <th>Цена ( за единицу)</th>\r\n            <th>Количество</th>\r\n            <th>Сумма</th>\r\n            <th>\r\n              Итого:\r\n              {s}\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n      </table>\r\n      <table>\r\n        <tbody>\r\n          {Object.keys(cart).map((item, index) => (\r\n            <tr key={index}>\r\n              <td>\r\n                <img\r\n                  className=\"goodsImg\"\r\n                  src={goodsObj[item][\"image\"]}\r\n                  alt=\"img\"\r\n                />\r\n              </td>\r\n              <td>{goodsObj[item][\"title\"]}</td>\r\n              <td>{goodsObj[item][\"cost\"]}</td>\r\n              <td>{cart[item]}</td>\r\n              <td>{cart[item] * goodsObj[item][\"cost\"]}</td>\r\n              <td className=\"remove-btn\">\r\n                <button className=\"remove-btn\" data-key={item}>\r\n                  -\r\n                </button>\r\n              </td>\r\n              <td className=\"remove-btn\">\r\n                <button className=\"remove-btn del-btn\" data-key={item}>\r\n                  Delete\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n","import React from \"react\";\r\n\r\nfunction Goods(props) {\r\n  return (\r\n    <div className=\"goods-block\">\r\n      <img src={props.image} alt=\"Картинка товара\" />\r\n      <p>{props.title}</p>\r\n      <p>{props.cost}</p>\r\n      <button className=\"add-to-cart\" data-key={props.articul}>\r\n        add to cart\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Goods;\r\n","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Goods from \"../components/Goods\";\r\nimport { increment } from \"../store/cartSlice\";\r\nimport { selectGoods } from \"../store/goodsSlice\";\r\n\r\n// Получаем данные из хранилища //get data from store\r\n// Выводим данные //List data\r\nfunction GoodsList() {\r\n  const goods = useSelector(selectGoods);\r\n  const dispatch = useDispatch();\r\n\r\n  let clickHandler = (e) => {\r\n    e.preventDefault();\r\n    let t = e.target;\r\n    if (!t.classList.contains(\"add-to-cart\")) return true;\r\n    dispatch(increment(t.getAttribute(\"data-key\")));\r\n  };\r\n  return (\r\n    <div className=\"goods-field\" onClick={clickHandler}>\r\n      {goods.map((item) => (\r\n          <Goods\r\n          title={item.title}\r\n          cost={item.cost}\r\n          image={item.image}\r\n          articul={item.articul}\r\n          key={item.articul}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GoodsList;\r\n\r\n","import \"./App.css\";\nimport Cart from \"./components/Cart\";\nimport GoodsList from \"./container/GoodsList\";\n\nfunction App() {\n  return (\n    <div>\n      <GoodsList />\n      <Cart />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport goodsReducer from \"./goodsSlice\";\r\nimport cartReducer from \"./cartSlice\";\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    goods: goodsReducer,\r\n    cart: cartReducer,\r\n  },\r\n});\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\n// redux\nimport store from \"./store\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}